<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Terminal – slowhell.xyz</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    /* Terminal-specific styles */
    .blink {
      animation: blink 1s infinite;
    }
    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
    .terminal-header {
      background-color: #181818;
      padding: 0.5em 1em;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .terminal-title {
      font-size: 0.85em;
      color: #ccc;
    }
    .terminal-controls {
      display: flex;
      gap: 8px;
    }
    .terminal-control {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    .terminal-control.close {
      background-color: #ff5f57;
    }
    .terminal-control.minimize {
      background-color: #ffbd2e;
    }
    .terminal-control.expand {
      background-color: #28ca41;
    }
    .system-message {
      color: #0f0;
    }
    .error-message {
      color: #f00;
    }
    .user-message {
      color: #fff;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body class="terminal-body">
  <div class="terminal-header">
    <div class="terminal-controls">
      <div class="terminal-control close"></div>
      <div class="terminal-control minimize"></div>
      <div class="terminal-control expand"></div>
    </div>
    <div class="terminal-title">sh@slowhell.xyz:~</div>
    <div></div>
  </div>
  
  <div class="terminal" id="terminal">
    <div class="terminal-output" id="terminalOutput">
<span class="system-message">                    _             _          _ _                   
  ___ | | _____      __| |__   ___| | |  __  ___   _ ____ 
 / __|| |/ _ \ \ /\ / /| '_ \ / _ \ | | / _|/ __| | |_  / 
 \__ \| | (_) \ V  V / | | | |  __/ | || | | (__ _| |/ /  
 |___/|_|\___/ \_/\_/  |_| |_|\___|_|_||_|  \___(_)_/___|</span>

<span class="system-message">Welcome to the slowHell.xyz Terminal (v0.0.0)
Connection established: slowHell.ssh handshake complete.
Type 'help' for a list of available commands.
Example usage: 'entropy this is some text to analyze'
</span>
    </div>
    <div class="terminal-prompt">
      <div class="terminal-prompt-symbol">sh~$</div>
      <input type="text" class="terminal-input" id="terminalInput" autofocus spellcheck="false">
    </div>
  </div>

  <a href="index.html" class="site-sigil">
    <img src="favicon.svg" alt="slowhell sigil" width="40" height="40">
  </a>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const terminal = document.getElementById('terminal');
      const output = document.getElementById('terminalOutput');
      const input = document.getElementById('terminalInput');
      
      // Commands database
      const commands = {
        help: {
          description: 'Display available commands',
          execute: () => {
            return `
<span class="system-message">╒══════════════════════════════════════════════════════════╕</span>
<span class="system-message">│                     slowHell TERMINAL                    │</span>
<span class="system-message">╘══════════════════════════════════════════════════════════╛</span>

<span class="system-message">SYSTEM COMMANDS:</span>
<span class="system-message">  help</span>     - Display this command reference
<span class="system-message">  clear</span>    - Clear the terminal screen and stop effects
<span class="system-message">  reset</span>    - Reset terminal to initial state
<span class="system-message">  exit</span>     - Return to main page

<span class="system-message">CORE UTILITIES:</span>
<span class="system-message">  echo [text]</span>    - Display text in terminal (Example: echo Hello World)
<span class="system-message">  date</span>           - Display current date and time 

<span class="system-message">ENTROPY SYSTEM:</span>
<span class="system-message">  entropy [text]</span> - Calculate Shannon entropy of input text
<span class="system-message">                   Measures information density/unpredictability
<span class="system-message">                   Example: entropy The quick brown fox jumps</span>
<span class="system-message">  chaos</span>          - Enter slowHell.recursive_mode (visual glitch effects)

<span class="system-message">CONTENT:</span>
<span class="system-message">  about</span>          - Information about slowhell.xyz
<span class="system-message">  sonnet</span>         - Display the Sonnet of slowHell

<span class="system-message">For more detailed information on any command, type: help [command]</span>
`;
          }
        },
        clear: {
          description: 'Clear the terminal screen',
          execute: () => {
            output.innerHTML = '';
            // If chaos mode is active, stop it
            if (window.chaosInterval) {
              clearInterval(window.chaosInterval);
              window.chaosInterval = null;
              terminal.style.filter = '';
            }
            return '<span class="system-message">Terminal cleared. All effects stopped.</span>';
          }
        },
        reset: {
          description: 'Reset terminal (start fresh session)',
          execute: () => {
            // Stop chaos mode if active
            if (window.chaosInterval) {
              clearInterval(window.chaosInterval);
              window.chaosInterval = null;
              terminal.style.filter = '';
            }
            
            // Clear all glitch elements
            const glitchElements = terminal.querySelectorAll('[style*="position: absolute"]');
            glitchElements.forEach(el => el.remove());
            
            // Reset terminal output to initial state
            output.innerHTML = `<span class="system-message">                    _             _          _ _                   
  ___ | | _____      __| |__   ___| | |  __  ___   _ ____ 
 / __|| |/ _ \ \ /\ / /| '_ \ / _ \ | | / _|/ __| | |_  / 
 \__ \| | (_) \ V  V / | | | |  __/ | || | | (__ _| |/ /  
 |___/|_|\___/ \_/\_/  |_| |_|\___|_|_||_|  \___(_)_/___|</span>

<span class="system-message">Welcome to the slowHell.xyz Terminal (v0.0.0)
Connection established: slowHell.ssh handshake complete.
Type 'help' for a list of available commands.
Example usage: 'entropy this is some text to analyze'
</span>`;
            
            return '<span class="system-message">Terminal reset complete. New session initialized.</span>';
          }
        },
        about: {
          description: 'About slowhell.xyz',
          execute: () => {
            return `
<span class="system-message">slowhell.xyz is a transmission point, a sanctuary of decay, code, and slow rebirth.</span>
<span class="system-message">It started as a whisper in a dark loop: a place to document thoughts I couldn't say aloud,</span>
<span class="system-message">to code truths I didn't yet understand.</span> <!--(Needs work.)-->
`;
          }
        },
        echo: {
          description: 'Echo a message back',
          execute: (args) => {
            return `<span class="user-message">${args.join(' ')}</span>`;
          }
        },
        date: {
          description: 'Display current date and time',
          execute: () => {
            const now = new Date();
            return `<span class="system-message">${now.toLocaleString()}</span>`;
          }
        },
        entropy: {
          description: 'Calculate Shannon entropy of input',
          execute: (args) => {
            if (args.length === 0) {
              return '<span class="error-message">Error: No input provided. Example: entropy test test test</span>';
            }
            
            const text = args.join(' ');
            const charCounts = {};
            
            // Count character frequencies
            for (let i = 0; i < text.length; i++) {
              const char = text[i];
              charCounts[char] = (charCounts[char] || 0) + 1;
            }
            
            // Calculate entropy
            let entropy = 0;
            for (const char in charCounts) {
              const probability = charCounts[char] / text.length;
              entropy -= probability * Math.log2(probability);
            }
            
            return `<span class="system-message">Input: "${text}"</span>
<span class="system-message">Entropy: ${entropy.toFixed(4)} bits per symbol</span>
<span class="system-message">Interpretation: ${interpretEntropy(entropy)}</span>`;
          }
        },
        exit: {
          description: 'Return to main page',
          execute: () => {
            // Stop chaos mode if it's running
            if (window.chaosInterval) {
              clearInterval(window.chaosInterval);
              window.chaosInterval = null;
              terminal.style.filter = '';
            }
            
            setTimeout(() => {
              window.location.href = 'index.html';
            }, 1000);
            return '<span class="system-message">Exiting terminal... Thank you for choosing slowhell.xyz.</span>';
          }
        },
        chaos: {
          description: 'Enter slowHell.recursive_mode',
          execute: (args) => {
            // Clear any existing chaos interval first
            if (window.chaosInterval) {
              clearInterval(window.chaosInterval);
            }
            
            // Set up glitch effects that repeat
            const glitchInterval = setInterval(() => {
              // Apply random glitch effect to terminal
              const effects = [
                'hue-rotate(90deg) contrast(1.5)', 
                'invert(0.2) brightness(1.2)', 
                'sepia(0.5) saturate(2.5)',
                'blur(2px) brightness(1.3)',
                'contrast(1.4) hue-rotate(180deg)',
                'grayscale(0.7) brightness(1.2)',
                'drop-shadow(0 0 2px #f0f) brightness(1.1)'
              ];
              const effect = effects[Math.floor(Math.random() * effects.length)];
              terminal.style.filter = effect;
              
              // Add random text glitches occasionally
              if (Math.random() < 0.3) {
                const glitchText = document.createElement('span');
                glitchText.className = 'system-message';
                glitchText.style.position = 'absolute';
                glitchText.style.color = '#f0f';
                glitchText.style.opacity = '0.7';
                glitchText.style.fontSize = Math.random() * 0.5 + 0.7 + 'em';
                glitchText.style.left = Math.random() * 80 + 10 + '%';
                glitchText.style.top = Math.random() * 80 + 10 + '%';
                glitchText.style.transform = `rotate(${Math.random() * 20 - 10}deg)`;
                glitchText.style.zIndex = '100';
                glitchText.textContent = ['ERROR', '01010', 'VOID', 'NULL', 'ECHO', 'CHAOS', '∞'][Math.floor(Math.random() * 7)];
                
                terminal.appendChild(glitchText);
                
                setTimeout(() => {
                  glitchText.remove();
                }, 500);
              }
              
              setTimeout(() => {
                terminal.style.filter = '';
              }, 300);
            }, 2000);
            
            // Store the interval ID for possible future cleanup
            window.chaosInterval = glitchInterval;
            
            return `<span class="system-message" style="color: #f0f; text-shadow: 0 0 5px #f0f;">CHAOS MODE INITIATED</span>
<span class="system-message" style="color: #f0f;">Recursion loop active. Entropy channels open.</span>
<span class="system-message" style="opacity: 0.7;">Warning: this system state is unstable.. Consider stabilization methods to prevent hallucinaions.</span>
<span class="system-message" style="color: #f0f;">(Chaos mode will continue until you refresh the page or use the 'clear' or 'exit' command)</span>`;
          }
        },
        sonnet: {
          description: 'Display the Sonnet of slowHell',
          execute: () => {
            // Dramatic reveal of the text
            let lines = [
              "I.",
              "In quiet loops, the terminal awaits,",
              "Each keystroke tracing fragments of the self.",
              "I log the hours, emotions, logs, and states—",
              "My code a mirror stored on shadowed shelf.",
              "",
              "II.",
              "A journal built with structure, breath, and care,",
              "Where thoughts recurse and patterns start to form",
              "An API for chaos, raw and bare,",
              "Detects the bias buried in the norm.",
              "",
              "III.",
              "Projects emerge like branches from the root,",
              "Each one a test of logic and of mind.",
              "The language here is structured, yet astute—",
              "A sandbox built to track the undefined.",
              "",
              "IV.",
              "So slowHell stands, in progress and intent,",
              "A site where code and consciousness are bent."
            ];
            
            // Return formatted sonnet with typing effect class
            return `<div class="sonnet-container">
${lines.map(line => line ? `<span class="sonnet-line">${line}</span>` : '<br>').join('\n')}
<span class="system-message sonnet-attribution">— The Sonnet of slowHell</span>
</div>
<style>
.sonnet-container {
  margin: 1em 0;
  padding: 1em;
  border-left: 2px solid #f0f;
  background: rgba(255, 0, 255, 0.05);
}
.sonnet-line {
  display: block;
  color: #e0e0e0;
  font-style: italic;
  line-height: 1.4;
}
.sonnet-attribution {
  display: block;
  margin-top: 0.5em;
  text-align: right;
  font-size: 0.9em;
}
</style>`;
          }
        }
      };
      
      // Interpret entropy values
      function interpretEntropy(entropy) {
        if (entropy < 1.5) return "Low entropy - highly predictable/repetitive content";
        if (entropy < 3.0) return "Moderate entropy - some patterns present";
        if (entropy < 4.0) return "High entropy - complex with few patterns";
        return "Very high entropy - approaching randomness";
      }
      
      // Process command input
      function processCommand(cmd) {
        const parts = cmd.trim().split(' ');
        const command = parts[0].toLowerCase();
        const args = parts.slice(1);
        
        if (command === '') {
          return '';
        }
        
        if (commands[command]) {
          return commands[command].execute(args);
        } else {
          return `<span class="error-message">Command not found: ${command}</span>`;
        }
      }
      
      // Handle command input
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const cmd = input.value;
          
          // Add command to output
          output.innerHTML += `\n<div class="terminal-prompt-symbol">sh~$</div> <span class="user-message">${cmd}</span>\n`;
          
          // Process command and show result
          const result = processCommand(cmd);
          if (result) {
            output.innerHTML += result + '\n';
          }
          
          // Clear input and scroll to bottom
          input.value = '';
          terminal.scrollTop = terminal.scrollHeight;
        }
      });
      
      // Focus input when clicking anywhere in the terminal
      terminal.addEventListener('click', () => {
        input.focus();
      });
      
      // Initial focus
      input.focus();
    });
  </script>
</body>
</html> 